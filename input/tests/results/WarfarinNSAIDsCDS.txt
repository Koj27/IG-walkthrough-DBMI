Executing CQL...
CQL path: d:\Toolkit\Mirror\IG-walkthrough-DBMI2\input\cql
Data path: d:\Toolkit\Mirror\IG-walkthrough-DBMI2\input\tests\WarfarinNSAIDsCDS
Terminology path: d:\Toolkit\Mirror\IG-walkthrough-DBMI2\input\vocabulary\valueset
Patient=Patient(id=Patient-with-UlcrAge)
Topical Diclofenac Prescription=null
Is context medication topical diclofenac=false
Is not context medication topical diclofenac=true
NSAID Prescription=[Coding]
NSAID Rx exists=true
Warfarin Rx=[Coding]
Warfarin Rx exists=true
Inclusion Criteria=true
Get Base Summary=Potential Drug-Drug Interaction between warfarin (warfarin sodium 10 MG Oral Tablet) and NSAID (diclofenac sodium 25 MG Delayed Release Oral Tablet).
Get Concomitant Description=Increased risk of bleeding. 
Bleeding is a serious potential clinical consequence because it can result in death, life-threatening hospitalization, and disability. 
Non-steroidal anti-inflammatory drugs (NSAIDs) have antiplatelet effects which increase the bleeding risk when combined with oral anticoagulants such as warfarin. The antiplatelet effect of NSAIDs lasts only as long as the NSAID is present in the circulation, unlike aspirin?s antiplatelet effect, which lasts for up to 2 weeks after aspirin is discontinued. NSAIDs also can cause peptic ulcers and most of the evidence for increased bleeding risk with NSAIDs plus warfarin is due to upper gastrointestinal bleeding (UGIB). 
unknown. 
 unknown.
Get Base Indicator=warning
Acetaminophen 325 MG=Code { code: 313782, system: http://www.nlm.nih.gov/research/umls/rxnorm, version: null, display: Acetaminophen 325 MG Oral Tablet }
Acetaminophen 500 MG=Code { code: 198440, system: http://www.nlm.nih.gov/research/umls/rxnorm, version: null, display: Acetaminophen 500 MG Oral Tablet }
Get Base Label 1=Substitute NSAID (diclofenac sodium 25 MG Delayed Release Oral Tablet) with APAP (Acetaminophen 325 MG Oral Tablet).
Get Base Label 2=Substitute NSAID (diclofenac sodium 25 MG Delayed Release Oral Tablet) with APAP (Acetaminophen 500 MG Oral Tablet).
PPIs and Misoprostols Rx=[]
Taking PPI or misoprostol=false
Get Card 2 Indicator=critical
Get Card 2 Summary=Patient is not taking a proton pump inhibitor or misoprostol.
Get Card 2 Detail=Proton pump inhibitors and misoprostol may reduce the risk of UGIB in patients receiving NSAIDs and warfarin.
Get Card 2 Label=Use only if benefit outweighs risk.
Age > 65 years or Hx UGIB=true
Get Card 3 Indicator=warning
GI Bleeds Condition=[Coding]
Get Card 3 Summary=Patient's age is at least 65 years old or the patient does have a history of upper gastrointestinal bleed  (patient is 67 years old. GI condition on record: Acute hemorrhagic gastritis).
Get Card 3 Detail=Patients with a history of UGIB or peptic ulcer may have an increased risk of UGIB from this interaction. The extent to which older age is an independent risk factor for UGIB due to these interactions is not firmly established, but UGIB in general is known to increase with age.
Get Card 3 Label=Use only if benefit outweighs risk.

Patient=Patient(id=patient-with-ppi)
Topical Diclofenac Prescription=null
Is context medication topical diclofenac=false
Is not context medication topical diclofenac=true
NSAID Prescription=[Coding]
NSAID Rx exists=true
Warfarin Rx=[Coding]
Warfarin Rx exists=true
Inclusion Criteria=true
Get Base Summary=Potential Drug-Drug Interaction between warfarin (warfarin sodium 10 MG Oral Tablet) and NSAID (Diclofenac Sodium 25 MG Delayed Release Oral Tablet).
Get Concomitant Description=Increased risk of bleeding. 
Bleeding is a serious potential clinical consequence because it can result in death, life-threatening hospitalization, and disability. 
Non-steroidal anti-inflammatory drugs (NSAIDs) have antiplatelet effects which increase the bleeding risk when combined with oral anticoagulants such as warfarin. The antiplatelet effect of NSAIDs lasts only as long as the NSAID is present in the circulation, unlike aspirin?s antiplatelet effect, which lasts for up to 2 weeks after aspirin is discontinued. NSAIDs also can cause peptic ulcers and most of the evidence for increased bleeding risk with NSAIDs plus warfarin is due to upper gastrointestinal bleeding (UGIB). 
unknown. 
 unknown.
Get Base Indicator=warning
Acetaminophen 325 MG=Code { code: 313782, system: http://www.nlm.nih.gov/research/umls/rxnorm, version: null, display: Acetaminophen 325 MG Oral Tablet }
Acetaminophen 500 MG=Code { code: 198440, system: http://www.nlm.nih.gov/research/umls/rxnorm, version: null, display: Acetaminophen 500 MG Oral Tablet }
Get Base Label 1=Substitute NSAID (Diclofenac Sodium 25 MG Delayed Release Oral Tablet) with APAP (Acetaminophen 325 MG Oral Tablet).
Get Base Label 2=Substitute NSAID (Diclofenac Sodium 25 MG Delayed Release Oral Tablet) with APAP (Acetaminophen 500 MG Oral Tablet).
PPIs and Misoprostols Rx=[Coding]
Taking PPI or misoprostol=true
Get Card 2 Indicator=info
Get Card 2 Summary=Patient is taking a proton pump inhibitor (lansoprazole 30 MG Delayed Release Oral Capsule).
Get Card 2 Detail=Proton pump inhibitors and misoprostol may reduce the risk of UGIB in patients receiving NSAIDs and warfarin.
Get Card 2 Label=Assess risk and take action if necessary.
Age > 65 years or Hx UGIB=false
Get Card 3 Indicator=info
GI Bleeds Condition=[]
Get Card 3 Summary=Patient is not 65 y/o and does not have a history of upper gastrointestinal bleed.
Get Card 3 Detail=Patients with a history of UGIB or peptic ulcer may have an increased risk of UGIB from this interaction. The extent to which older age is an independent risk factor for UGIB due to these interactions is not firmly established, but UGIB in general is known to increase with age.
Get Card 3 Label=Assess risk and take action if necessary.

Patient=Patient(id=patient-with-wardic)
Topical Diclofenac Prescription=null
Is context medication topical diclofenac=false
Is not context medication topical diclofenac=true
NSAID Prescription=[Coding]
NSAID Rx exists=true
Warfarin Rx=[Coding]
Warfarin Rx exists=true
Inclusion Criteria=true
Get Base Summary=Potential Drug-Drug Interaction between warfarin (warfarin sodium 10 MG Oral Tablet) and NSAID (diclofenac sodium 25 MG Delayed Release Oral Tablet).
Get Concomitant Description=Increased risk of bleeding. 
Bleeding is a serious potential clinical consequence because it can result in death, life-threatening hospitalization, and disability. 
Non-steroidal anti-inflammatory drugs (NSAIDs) have antiplatelet effects which increase the bleeding risk when combined with oral anticoagulants such as warfarin. The antiplatelet effect of NSAIDs lasts only as long as the NSAID is present in the circulation, unlike aspirin?s antiplatelet effect, which lasts for up to 2 weeks after aspirin is discontinued. NSAIDs also can cause peptic ulcers and most of the evidence for increased bleeding risk with NSAIDs plus warfarin is due to upper gastrointestinal bleeding (UGIB). 
unknown. 
 unknown.
Get Base Indicator=warning
Acetaminophen 325 MG=Code { code: 313782, system: http://www.nlm.nih.gov/research/umls/rxnorm, version: null, display: Acetaminophen 325 MG Oral Tablet }
Acetaminophen 500 MG=Code { code: 198440, system: http://www.nlm.nih.gov/research/umls/rxnorm, version: null, display: Acetaminophen 500 MG Oral Tablet }
Get Base Label 1=Substitute NSAID (diclofenac sodium 25 MG Delayed Release Oral Tablet) with APAP (Acetaminophen 325 MG Oral Tablet).
Get Base Label 2=Substitute NSAID (diclofenac sodium 25 MG Delayed Release Oral Tablet) with APAP (Acetaminophen 500 MG Oral Tablet).
PPIs and Misoprostols Rx=[]
Taking PPI or misoprostol=false
Get Card 2 Indicator=critical
Get Card 2 Summary=Patient is not taking a proton pump inhibitor or misoprostol.
Get Card 2 Detail=Proton pump inhibitors and misoprostol may reduce the risk of UGIB in patients receiving NSAIDs and warfarin.
Get Card 2 Label=Use only if benefit outweighs risk.
Age > 65 years or Hx UGIB=false
Get Card 3 Indicator=info
GI Bleeds Condition=[]
Get Card 3 Summary=Patient is not 65 y/o and does not have a history of upper gastrointestinal bleed.
Get Card 3 Detail=Patients with a history of UGIB or peptic ulcer may have an increased risk of UGIB from this interaction. The extent to which older age is an independent risk factor for UGIB due to these interactions is not firmly established, but UGIB in general is known to increase with age.
Get Card 3 Label=Assess risk and take action if necessary.


Evaluation logs:
16:11:36.038 [pool-2-thread-1] INFO  ca.uhn.fhir.context.FhirContext - Creating new FHIR context for FHIR version [R4]
16:11:36.738 [pool-2-thread-1] WARN  o.o.c.c.e.e.terminology.BundleTerminologyProvider - ValueSet http://hl7.org/fhir/ig/PDDI-CDS/ValueSet/valueset-Hx-UGIB-snomed is not expanded. Falling back to compose definition. This will potentially produce incorrect results. 
16:11:36.738 [pool-2-thread-1] WARN  o.o.c.c.e.e.terminology.BundleTerminologyProvider - ValueSet http://hl7.org/fhir/ig/PDDI-CDS/ValueSet/valueset-NSAIDS is not expanded. Falling back to compose definition. This will potentially produce incorrect results. 
16:11:36.741 [pool-2-thread-1] WARN  o.o.c.c.e.e.terminology.BundleTerminologyProvider - ValueSet http://hl7.org/fhir/ig/PDDI-CDS/ValueSet/valueset-PPIS is not expanded. Falling back to compose definition. This will potentially produce incorrect results. 
16:11:36.741 [pool-2-thread-1] WARN  o.o.c.c.e.e.terminology.BundleTerminologyProvider - Codes expanded without a terminology server, some results may not be correct.
16:11:36.741 [pool-2-thread-1] WARN  o.o.c.c.e.e.terminology.BundleTerminologyProvider - ValueSet http://hl7.org/fhir/ig/PDDI-CDS/ValueSet/valueset-warfarin is not expanded. Falling back to compose definition. This will potentially produce incorrect results. 
elapsed: 1.319 seconds

